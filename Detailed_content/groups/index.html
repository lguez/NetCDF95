<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Lionel GUEZ">
  <link rel="canonical" href="https://www.lmd.jussieu.fr/~lguez/NetCDF95_site/index.html/Detailed_content/groups/">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Groups - NetCDF95 documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Groups";
    var mkdocs_page_input_path = "Detailed_content/groups.md";
    var mkdocs_page_url = "/~lguez/NetCDF95_site/index.html/Detailed_content/groups/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> NetCDF95 documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <p class="caption"><span class="caption-text">Home</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../installation/">Installation</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../usage/">Usage</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Detailed content</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../improvements/">The four types of improvements</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../datasets/">Datasets & co</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../dimensions/">Dimensions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../variables/">Variables</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../attributes/">Attributes</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Groups</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#nf95_inq_grp_full_ncid">nf95_inq_grp_full_ncid</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#nf95_inq_grpname">nf95_inq_grpname</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#nf95_inq_grpname_full">nf95_inq_grpname_full</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#nf95_inq_grps">nf95_inq_grps</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../errors/">Handling of errors</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Notes</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../changes/">Changes</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">NetCDF95 documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Detailed content &raquo;</li>
        
      
    
    <li>Groups</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/lguez/NetCDF95/edit/master/docs/Detailed_content/groups.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="groups">Groups</h1>
<p>This page describles procedures handling NetCDF groups.</p>
<p>See the <a href="../improvements/">improvements page</a> for an
explanation of the mnemonics "basic change", "interface change",
"functionality change", "additional procedure".</p>
<h2 id="nf95_inq_grp_full_ncid"><code>nf95_inq_grp_full_ncid</code></h2>
<p>(basic change)</p>
<pre><code>subroutine nf95_inq_grp_full_ncid(ncid, full_name, grpid, ncerr)

  integer, intent(in):: ncid ! can be the file id or a group id

  character(len = *), intent(in):: full_name
  ! Should be a path relative to ncid (which can correspond to the
  ! root group or a subgroup). Can be an immediate subgroup or a
  ! deeper subgroup.

  integer, intent(out):: grpid
  integer, intent(out), optional:: ncerr
</code></pre>

<p>Reference:
<a href="https://docs.unidata.ucar.edu/netcdf-c/current/group__groups.html#ga41d2e214f1a880493ed8ea3fbddab806"><code>nc_inq_grp_full_ncid</code></a></p>
<h2 id="nf95_inq_grpname"><code>nf95_inq_grpname</code></h2>
<p>(functionality change)</p>
<p>You know the ncid of a group (which can be the root group) and you
want the basename of this group. The basename of the group is the last
part in the absolute path, as in the Unix basename program. The
basename of the root group is &ldquo;/&rdquo;.</p>
<p>The functionality change is that the argument <code>name</code> has dynamic,
deferred length.</p>
<p>The problem with the Fortran 90 interface: <code>name</code> has assumed length
in the Fortran 90 interface. Also, there is no way in the Fortran 90
interface to only inquire about the length of the name. The function
<code>nf90_inq_grpname_len</code> gives the length of the absolute path of the
group, not the length of the basename of the group.</p>
<p>Reference:
<a href="https://docs.unidata.ucar.edu/netcdf-fortran/current/f90_groups.html#f90-find-a-groups-name-nf90_inq_grpname"><code>nf90_inq_grpname</code></a></p>
<h2 id="nf95_inq_grpname_full"><code>nf95_inq_grpname_full</code></h2>
<p>(functionality change)</p>
<p>You know the ncid of a group (which can be the root group) and you
want the absolute path of the group.</p>
<p>The functionality change is that the argument <code>name</code> has dynamic,
deferred length, and there is no argument len. Since <code>name</code> is allocated
to the exact length of the path, the argument len is useless, you can
just query the length of the actual argument after the call.</p>
<p>The problem with the Fortran 90 interface: <code>name</code> has assumed length
in the Fortran 90 interface. You have to call <code>nf90_inq_grpname_len</code>
first to know the length of the actual argument that you will
associate to name.</p>
<p>Reference:
<a href="https://docs.unidata.ucar.edu/netcdf-fortran/current/f90_groups.html#f90-find-a-groups-full-name-nf90_inq_grpname_full"><code>nf90_inq_grpname_full</code></a></p>
<h2 id="nf95_inq_grps"><code>nf95_inq_grps</code></h2>
<p>(functionality change)</p>
<p>You know the ncid of a group (which can be the root group) and you
want the ncids of its immediate subgroups.</p>
<p>The functionality change is that the argument ncids is allocatable and
there is no argument numgrps. Since ncids is allocated to the number
of groups, the argument numgrps is useless, you can just query the
size of the actual argument associated to ncids after the call.</p>
<p>The problem with the Fortran 90 interface: ncids has assumed shape in
the Fortran 90 interface. Also, there is no way in the Fortran 90
interface to only inquire about the number of subgroups. The Fortran
90 interface is dangerous here because it does not check that the size
of ncids is large enough: a segmentation violation will occur if it is
not. NetCDF95 solves this by going directly to the C interface.</p>
<p>Reference:
<a href="https://docs.unidata.ucar.edu/netcdf-fortran/current/f90_groups.html#f90-get-a-list-of-groups-in-a-group-nf90_inq_grps"><code>nf90_inq_grps</code></a>
and
<a href="https://docs.unidata.ucar.edu/netcdf-c/current/group__groups.html#ga33eb934cc6810770be78eaa822656a00"><code>nc_inq_grps</code></a></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../errors/" class="btn btn-neutral float-right" title="Handling of errors">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../attributes/" class="btn btn-neutral" title="Attributes"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/lguez/NetCDF95/" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../attributes/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../errors/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
