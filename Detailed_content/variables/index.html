
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Lionel GUEZ">
      
      
        <link rel="canonical" href="https://lguez.github.io/NetCDF95/Detailed_content/variables/">
      
      
        <link rel="prev" href="../dimensions/">
      
      
        <link rel="next" href="../attributes/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.0">
    
    
      
        <title>Variables - NetCDF95 documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.9f615399.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#variables" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="NetCDF95 documentation" class="md-header__button md-logo" aria-label="NetCDF95 documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NetCDF95 documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Variables
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/lguez/NetCDF95" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="NetCDF95 documentation" class="md-nav__button md-logo" aria-label="NetCDF95 documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    NetCDF95 documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lguez/NetCDF95" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Detailed content
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Detailed content
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../improvements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The four types of improvements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../datasets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Datasets & co
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dimensions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dimensions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Variables
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Variables
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#reminder-on-allocatable-arguments" class="md-nav__link">
    Reminder on allocatable arguments
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nf95_def_var-and-nf95_def_var_scalar" class="md-nav__link">
    nf95_def_var and nf95_def_var_scalar
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nf95_get_var" class="md-nav__link">
    nf95_get_var
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nf95_gunp_var" class="md-nav__link">
    nf95_gunp_var
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nf95_gw_var" class="md-nav__link">
    nf95_gw_var
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nf95_inq_varid" class="md-nav__link">
    nf95_inq_varid
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nf95_inq_varnatts" class="md-nav__link">
    nf95_inq_varnatts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nf95_inquire_variable" class="md-nav__link">
    nf95_inquire_variable
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nf95_put_var" class="md-nav__link">
    nf95_put_var
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../attributes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Attributes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../groups/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Groups
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../errors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Handling of errors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../version/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Library version
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../changes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changes before version control
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#reminder-on-allocatable-arguments" class="md-nav__link">
    Reminder on allocatable arguments
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nf95_def_var-and-nf95_def_var_scalar" class="md-nav__link">
    nf95_def_var and nf95_def_var_scalar
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nf95_get_var" class="md-nav__link">
    nf95_get_var
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nf95_gunp_var" class="md-nav__link">
    nf95_gunp_var
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nf95_gw_var" class="md-nav__link">
    nf95_gw_var
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nf95_inq_varid" class="md-nav__link">
    nf95_inq_varid
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nf95_inq_varnatts" class="md-nav__link">
    nf95_inq_varnatts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nf95_inquire_variable" class="md-nav__link">
    nf95_inquire_variable
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nf95_put_var" class="md-nav__link">
    nf95_put_var
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="variables">Variables</h1>
<p>This page describles procedures handling NetCDF variables.</p>
<p>See the <a href="../improvements/">improvements page</a> for an explanation of
the mnemonics &ldquo;basic change&rdquo;, &ldquo;interface change&rdquo;, &ldquo;functionality
change&rdquo;, &ldquo;additional procedure&rdquo;.</p>
<h2 id="reminder-on-allocatable-arguments">Reminder on allocatable arguments</h2>
<p>Some NetCDF95 procedures below have a dummy argument with attributes
allocatable and <code>intent(out)</code>. Recall that in this case the associated
actual argument must also have the allocatable attribute. If it is
allocated before the call, it will automatically be deallocated and
reallocated in the NetCDF95 procedure.</p>
<h2 id="nf95_def_var-and-nf95_def_var_scalar"><code>nf95_def_var</code> and <code>nf95_def_var_scalar</code></h2>
<p>(interface change)</p>
<pre><code>subroutine nf95_def_var_scalar(ncid, name, xtype, varid, ncerr)
  integer,               intent( in) :: ncid
  character (len = *),   intent( in) :: name
  integer,               intent( in) :: xtype
  integer,               intent(out) :: varid
 integer, intent(out), optional:: ncerr
</code></pre>
<pre><code>subroutine nf95_def_var(ncid, name, xtype, dimids, varid, ncerr)
  integer,               intent( in) :: ncid
  character (len = *),   intent( in) :: name
  integer,               intent( in) :: xtype
  integer[, dimension(:)], intent( in) :: dimids
  integer,               intent(out) :: varid
  integer, intent(out), optional:: ncerr
</code></pre>
<p>(<code>dimids</code> may be either a scalar or a rank 1 array.)</p>
<p>Because of the additional optional argument <code>ncerr</code>, the generic
procedure name <code>nf95_def_var</code> cannot include the case of a scalar
variable. So there is a specific public procedure <code>nf95_def_var_scalar</code>
for this case.</p>
<p>Reference:
<a href="https://docs.unidata.ucar.edu/netcdf-fortran/current/f90-variables.html#f90-create-a-variable-nf90_def_var"><code>nf90_def_var</code></a></p>
<h2 id="nf95_get_var"><code>nf95_get_var</code></h2>
<p>(functionality change)</p>
<pre><code>subroutine nf95_get_var(ncid, varid, values, start, &amp;
     new_missing, ncerr)

  integer, intent(in) :: ncid, varid
  any type, intent(out):: values
  integer, dimension(:), optional, intent(in):: start
  same type as values, optional, intent(in):: new_missing
  integer, intent(out), optional:: ncerr
</code></pre>
<p>(if argument <code>values</code> is a scalar then arguments <code>count_nc</code>, stride and map
must not be present)</p>
<p>or</p>
<pre><code>subroutine nf95_get_var(ncid, varid, values, start, &amp;
     count_nc, stride, map, new_missing, ncerr)

  integer, intent(in) :: ncid, varid
  any type and any rank &gt;= 1, intent(out):: values
  integer, dimension(:), optional, intent(in):: start, count_nc, stride, map
  same type as values, optional, intent(in):: new_missing
  integer, intent(out), optional:: ncerr
</code></pre>
<p>(if argument <code>values</code> is an array then arguments <code>count_nc</code>, stride and
map may be present)</p>
<p>The argument for the number of indices selected along each dimension is
called <code>count_nc</code> in <code>nf95_get_var</code>, instead of <code>count</code> in
<code>nf90_get_var</code>. <code>count</code> is not a good choice for a variable name because
it is the name of a Fortran intrinsic procedure.</p>
<p><code>nf95_get_var</code> checks that :</p>
<ul>
<li>the size of arguments <code>start</code> and <code>count_nc</code> equals the rank of the
    NetCDF variable ;</li>
<li>if <code>count_nc</code> is absent, the rank of argument <code>values</code> is lower than
    or equal to the rank of the NetCDF variable.</li>
</ul>
<p>There is an optional argument, <code>new_missing</code>, which is not in the
<a href="https://www.unidata.ucar.edu/software/netcdf/docs-fortran/f90_The-NetCDF-Fortran-90-Interface-Guide.html">Fortran 90 NetCDF
interface</a>. If
the argument <code>new_missing</code> is present then, in the returned <code>values</code>,
the missing value from the NetCDF variable is replaced by
<code>new_missing</code>.  This may be useful for example if, in your program,
you need the missing value to be <code>ieee_value(0., IEEE_QUIET_NAN)</code>
rather than <code>NF90_FILL_REAL</code>.</p>
<p>Reference:
<a href="https://docs.unidata.ucar.edu/netcdf-fortran/current/f90-variables.html#f90-reading-data-values-nf90_get_var"><code>nf90_get_var</code></a></p>
<h2 id="nf95_gunp_var"><code>nf95_gunp_var</code></h2>
<p>(additional procedure)</p>
<pre><code>subroutine nf95_gunp_var(ncid, varid, values, was_packed, start, count_nc, new_missing)
  integer, intent(in):: ncid, varid
  real or double precision, any rank &gt;= 1:: values
  logical, optional, intent(out):: was_packed
  integer, optional, intent(in):: start(:), count_nc(:)
  real or double precision, optional, intent(in):: new_missing
</code></pre>
<p><code>nf95_gunp_var</code> stands for &ldquo;NetCDF95 get unpacked variable&rdquo;. This
procedure looks for attributes <code>scale_factor</code> or <code>add_offset</code> for the
variable with given varid. If any of these attributes is found then
<code>nf95_gunp_var</code> reads and unpacks the variable, else it has the same
result as <code>nf95_get_var</code>. If the attributes <code>scale_factor</code> and
<code>add_offset</code> are absent then the cost of <code>nf95_gunp_var</code> compared to
<code>nf95_get_var</code> is just the cost of checking the presence of these
attributes.</p>
<p>Note that unpacked values can only be real or double precision.</p>
<p>If the packed variable has missing values then you can choose a
missing value for the unpacked variable. If you do not specify the
<code>new_missing</code> argument then the default missing value,
<code>nf95_fill_real</code> or <code>nf95_fill_double</code>, will be used.</p>
<p>If you need to check missing values, in an application which can
process both packed and unpacked variables, and if you do not use
argument <code>new_missing</code>, then use argument <code>was_packed</code>. If
<code>was_packed</code> is true then the missing value is <code>nf95_fill_real</code> or
<code>nf95_fill_double</code>, else you need to find out what the missing value
is by calling <code>nf95_get_missing</code>.</p>
<h2 id="nf95_gw_var"><code>nf95_gw_var</code></h2>
<p>(additional procedure)</p>
<pre><code>  subroutine nf95_gw_var(ncid, varid, values)
    integer, intent(in):: ncid
    integer, intent(in):: varid
    any type and kind, any rank, allocatable, intent(out):: values
</code></pre>
<p><code>nf95_gw_var</code> stands for &ldquo;NetCDF95 get whole variable&rdquo;. This
procedure reads a whole NetCDF variable into an array. When you want all
the values of the NetCDF variable, this procedure is a shortcut to:
inquiring about the dimension IDs of the variable, inquiring about the
length of each dimension found, allocating the Fortran variable, reading
the values from the NetCDF variable.</p>
<p>The procedure checks that the rank of the argument <code>values</code> equals the
rank of the NetCDF variable. The procedure does not require nor check
that the type of <code>values</code> corresponds to the type of the NetCDF
variable: conversion will occur if necessary.</p>
<p>See <a href="#reminder-on-allocatable-arguments">reminder on allocatable arguments</a>.</p>
<h2 id="nf95_inq_varid"><code>nf95_inq_varid</code></h2>
<p>(basic change)</p>
<pre><code>  subroutine nf95_inq_varid(ncid, name, varid, ncerr)
    integer,             intent(in) :: ncid
    character (len = *), intent(in) :: name
    integer,             intent(out) :: varid
    integer, intent(out), optional:: ncerr
</code></pre>
<p>Reference:
<a href="https://docs.unidata.ucar.edu/netcdf-fortran/current/f90-variables.html#f90-get-the-id-of-a-variable-from-the-name-nf90_inq_varid"><code>nf90_inq_varid</code></a></p>
<h2 id="nf95_inq_varnatts"><code>nf95_inq_varnatts</code></h2>
<p>(additional procedure)</p>
<pre><code> subroutine nf95_inq_varnatts(ncid, varid, natts, ncerr)
   integer, intent(in):: ncid, varid
   integer, intent(out):: natts
   integer, intent(out), optional:: ncerr
</code></pre>
<p>This procedure tells you how many attributes a variable has, knowing
the variable ID. You can call it with <code>varid = nf95_global</code> to find
out the number of global attributes.</p>
<p>Strangely, although a procedure <code>nf90_inq_varnatts</code> is mentioned in
the documentation of <a href="https://docs.unidata.ucar.edu/netcdf-fortran/current/f90-attributes.html#f90-get-information-about-an-attribute-nf90_inquire_attribute-and-nf90_inq_attname"><code>nf90_inquire_attribute</code> and
<code>nf90_inq_attname</code></a>,
this procedure does not exist in the Fortran 90 NetCDF interface. So
it seems the only way to get the number of attributes with the Fortran
90 NetCDF interface was to loop on <code>nf90_inq_attname</code> until it
returned an error.</p>
<p>Reference: <a href="https://docs.unidata.ucar.edu/netcdf-c/current/group__variables.html#ga4df3b5bbf48e98cbd6847bd24f072ec8"><code>nc_inq_varnatts</code></a></p>
<h2 id="nf95_inquire_variable"><code>nf95_inquire_variable</code></h2>
<p>(functionality change)</p>
<pre><code>  subroutine nf95_inquire_variable(ncid, varid, name, xtype, ndims, dimids, &amp;
       nAtts, ncerr)
    integer, intent(in):: ncid, varid
    character(len = *), optional, intent(out):: name
    integer, optional, intent(out) :: xtype, ndims
    integer, dimension(:), optional, allocatable, intent(out) :: dimids
    integer, optional, intent(out) :: nAtts
    integer, intent(out), optional :: ncerr
</code></pre>
<p>In the &ldquo;new&rdquo; <code>nf95_inquire_variable</code>, the argument <code>dimids</code> has the
allocatable attribute. The procedure <code>nf95_inquire_variable</code> allocates
and defines <code>dimids</code> if the argument is present. <code>dimids</code> is defined as
a zero-sized array if the NetCDF variable is a scalar with no dimension.</p>
<p>In the &ldquo;old&rdquo; <code>nf90_inquire_variable</code>, <code>dimids</code> was an assumed-size
array. This was Fortran 77 style, not optimal. You had to allocate
<code>dimids</code> in the calling procedure with a maximum possible number of
dimensions. You also needed to call <code>nf90_inquire_variable</code> with the
argument <code>ndims</code> present, to tell you which part of <code>dimids</code> was
defined.</p>
<p>See <a href="#reminder-on-allocatable-arguments">reminder on allocatable arguments</a>.</p>
<p>Reference:
<a href="https://docs.unidata.ucar.edu/netcdf-fortran/current/f90-variables.html#f90-get-information-about-a-variable-from-its-id-nf90_inquire_variable"><code>nf90_inquire_variable</code></a></p>
<h2 id="nf95_put_var"><code>nf95_put_var</code></h2>
<p>(functionality change)</p>
<pre><code>subroutine nf95_put_var(ncid, varid, values, start, ncerr)
  integer,                         intent(in) :: ncid, varid
  any type and any kind, intent(in) :: values
  integer, dimension(:), optional, intent(in) :: start
  integer, intent(out), optional:: ncerr
</code></pre>
<p>(If argument <code>values</code> is a scalar then arguments <code>count_nc</code>, stride and map
must not be present.)</p>
<p>Or:</p>
<pre><code>subroutine nf95_put_var(ncid, varid, values, start, count_nc, stride, map, ncerr)
  integer,                         intent(in) :: ncid, varid
  any type and any kind, any rank &gt;= 1, intent(in) :: values
  integer, dimension(:), optional, intent(in) :: start, count_nc, stride, map
  integer, intent(out), optional:: ncerr
</code></pre>
<p>(If argument <code>values</code> is an array then arguments <code>count_nc</code>, stride and
map may be present.)</p>
<p>The argument for the number of indices selected along each dimension is
called <code>count_nc</code> in <code>nf95_put_var</code>, instead of <code>count</code> in
<code>nf90_put_var</code>. <code>count</code> is not a good choice for a variable name because
it is the name of a Fortran intrinsic procedure.</p>
<p><code>nf95_put_var</code> checks that :</p>
<ul>
<li>the size of arguments <code>start</code> and <code>count_nc</code> equals the rank of the
    NetCDF variable ;</li>
<li>if <code>count_nc</code> is absent, the rank of argument <code>values</code> is lower than
    or equal to the rank of the NetCDF variable.</li>
</ul>
<p>Reference:
<a href="https://docs.unidata.ucar.edu/netcdf-fortran/current/f90-variables.html#f90-writing-data-values-nf90_put_var"><code>nf90_put_var</code></a></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../dimensions/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Dimensions" rel="prev">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Dimensions
              </div>
            </div>
          </a>
        
        
          
          <a href="../attributes/" class="md-footer__link md-footer__link--next" aria-label="Next: Attributes" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Attributes
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.footer"], "search": "../../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.4e0fa4ba.min.js"></script>
      
        <script src="../../javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>